"use strict";var e=document.getElementById("burger");e.addEventListener("click",(function(){e.nextElementSibling.classList.toggle("is-active")}));var t=document.getElementById("form-feedback__input--upload"),n=document.querySelector(".form-feedback__upload-img");t.addEventListener("input",(function(){var e,r;e=t.files[0],r=URL.createObjectURL(e),n.src=r}));var r=document.querySelectorAll('input[type="tel"]'),c=new Inputmask("+7 (999) 999-99-99",{placeholder:" "});r.forEach((function(e){c.mask(e)}));var a=document.querySelector(".header__btn"),o=document.querySelector(".modal"),i=o.querySelector(".form-modal__btn-close");function l(){o.classList.toggle("d-none")}function u(){var e=this.textContent,t=this.closest(".form-feedback__select");t.querySelector(".form-feedback__selected").textContent=e,t.classList.remove("is-active")}a.addEventListener("click",l),o.addEventListener("click",(function(e){e.target===o&&l()})),i.addEventListener("click",(function(e){e.preventDefault(),l()})),document.querySelector(".form-feedback__selected").addEventListener("click",(function(){this.parentElement.classList.toggle("is-active")})),document.querySelectorAll(".form-feedback__option").forEach((function(e){return e.addEventListener("click",u)}));new Swiper(".swiper",{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:5e3}});var s=document.querySelector(".feedback__btn--personal"),d=document.querySelector(".feedback__btn--rules"),m=document.querySelector(".feedback__form"),f=document.querySelector(".feedback__rules");s.addEventListener("click",(function(){d.classList.remove("is-active"),s.classList.add("is-active"),f.classList.add("d-none"),m.classList.remove("d-none")})),d.addEventListener("click",(function(){s.classList.remove("is-active"),d.classList.add("is-active"),m.classList.add("d-none"),f.classList.remove("d-none")}));var v=document.querySelector(".form-feedback"),_=document.querySelector(".form-modal");function p(e){var t=!0;for(var n in e)e[n]||(t=!1);return t}function L(e){var t=e.value.trim();return 0===t.length?(y(e,"Поле обязательно для заполнения"),!1):t.length<2?(y(e,"Не менее 2 символов"),!1):!!/[a-zа-я\\-]/i.test(t)||(y(e,"Только латиница или кириллица"),!1)}function b(e){var t=e.value.trim();return 0===t.length?(y(e,"Поле обязательно для заполнения"),!1):!!/[a-z0-9_\\-\\.]+@[a-z0-9_\\-\\.]+\.[a-z0-9]/i.test(t)||(y(e,"Введен некорректный Email"),!1)}function k(e){var t=e.value.trim();return 0===t.length?(y(e,"Поле обязательно для заполнения"),!1):18===t.length||(y(e,"Номер телефона должен состоять из 10 цифр"),!1)}function y(e,t){var n=e.nextElementSibling;e.classList.add("error"),n.textContent=t}v.addEventListener("submit",(function(e){e.preventDefault();var t=v.querySelector("#form-feedback__input--name"),n=v.querySelector("#form-feedback__input--surname"),r=v.querySelector("#form-feedback__input--tel"),c=v.querySelector("#form-feedback__input--email");[t,n,r,c].forEach((function(e){return e.classList.remove("error")})),p({name:L(t),surname:L(n),tel:k(r),email:b(c)})&&[t,n,r,c].forEach((function(e){return e.value=""}))})),_.addEventListener("submit",(function(e){e.preventDefault();var t=_.querySelector("#form-modal__input--name"),n=_.querySelector("#form-modal__input--tel"),r=_.querySelector("#form-modal__input--email");[t,n,r].forEach((function(e){return e.classList.remove("error")})),p({name:L(t),tel:k(n),email:b(r)})&&[t,n,r].forEach((function(e){return e.value=""}))}));